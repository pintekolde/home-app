{"ast":null,"code":"import React,{useState}from'react';import{Box,Typography,Paper,Grid,Dialog,DialogTitle,DialogContent,IconButton}from'@mui/material';import{styled}from'@mui/material/styles';import VideocamIcon from'@mui/icons-material/Videocam';import CloseIcon from'@mui/icons-material/Close';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const CameraCard=styled(Paper)(_ref=>{let{theme,isActive}=_ref;return{padding:theme.spacing(2),height:'100%',background:isActive?theme.palette.mode==='dark'?'linear-gradient(45deg, #9c27b0 30%, #ba68c8 90%)':'linear-gradient(45deg, #2196f3 30%, #64b5f6 90%)':'transparent',color:isActive?'#fff':theme.palette.text.primary,border:isActive?'none':`1px solid ${theme.palette.divider}`,cursor:'pointer',transition:'all 0.3s ease','&:hover':{transform:'scale(1.02)'}};});const VideoPreview=styled(Box)(_ref2=>{let{theme}=_ref2;return{width:'100%',height:300,backgroundColor:theme.palette.background.paper,borderRadius:theme.shape.borderRadius,overflow:'hidden',display:'flex',alignItems:'center',justifyContent:'center'};});const SecurityPage=_ref3=>{let{cameras,onCameraSelect}=_ref3;const[selectedCamera,setSelectedCamera]=useState(null);const handleCameraClick=camera=>{setSelectedCamera(camera);onCameraSelect(camera.id);};const handleCloseDialog=()=>{setSelectedCamera(null);};return/*#__PURE__*/_jsxs(Box,{sx:{pb:7},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h4\",gutterBottom:true,children:\"\\u0421\\u0438\\u0441\\u0442\\u0435\\u043C\\u0430 \\u0431\\u0435\\u0437\\u043E\\u043F\\u0430\\u0441\\u043D\\u043E\\u0441\\u0442\\u0438\"}),/*#__PURE__*/_jsx(Grid,{container:true,spacing:2,children:cameras.map(camera=>/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:6,children:/*#__PURE__*/_jsxs(CameraCard,{isActive:camera.isActive,onClick:()=>handleCameraClick(camera),children:[/*#__PURE__*/_jsxs(Box,{display:\"flex\",alignItems:\"center\",gap:1,mb:2,children:[/*#__PURE__*/_jsx(VideocamIcon,{}),/*#__PURE__*/_jsx(Typography,{variant:\"h6\",children:camera.name})]}),/*#__PURE__*/_jsxs(Typography,{variant:\"body2\",color:\"text.secondary\",children:[\"\\u041A\\u043E\\u043C\\u043D\\u0430\\u0442\\u0430: \",camera.room]}),/*#__PURE__*/_jsxs(Typography,{variant:\"body2\",color:\"text.secondary\",children:[\"\\u0421\\u0442\\u0430\\u0442\\u0443\\u0441: \",camera.isActive?'Активна':'Неактивна']})]})},camera.id))}),/*#__PURE__*/_jsxs(Dialog,{open:selectedCamera!==null,onClose:handleCloseDialog,maxWidth:\"md\",fullWidth:true,children:[/*#__PURE__*/_jsx(DialogTitle,{children:/*#__PURE__*/_jsxs(Box,{display:\"flex\",alignItems:\"center\",justifyContent:\"space-between\",children:[/*#__PURE__*/_jsxs(Typography,{children:[selectedCamera===null||selectedCamera===void 0?void 0:selectedCamera.name,\" - \",selectedCamera===null||selectedCamera===void 0?void 0:selectedCamera.room]}),/*#__PURE__*/_jsx(IconButton,{onClick:handleCloseDialog,children:/*#__PURE__*/_jsx(CloseIcon,{})})]})}),/*#__PURE__*/_jsx(DialogContent,{children:/*#__PURE__*/_jsx(VideoPreview,{children:selectedCamera!==null&&selectedCamera!==void 0&&selectedCamera.streamUrl?/*#__PURE__*/_jsx(\"img\",{src:selectedCamera.streamUrl,alt:selectedCamera.name,style:{width:'100%',height:'100%',objectFit:'cover'}}):/*#__PURE__*/_jsx(Typography,{color:\"text.secondary\",children:\"\\u041D\\u0435\\u0442 \\u0434\\u043E\\u0441\\u0442\\u0443\\u043F\\u0430 \\u043A \\u0432\\u0438\\u0434\\u0435\\u043E\\u043F\\u043E\\u0442\\u043E\\u043A\\u0443\"})})})]})]});};export default SecurityPage;","map":{"version":3,"names":["React","useState","Box","Typography","Paper","Grid","Dialog","DialogTitle","DialogContent","IconButton","styled","VideocamIcon","CloseIcon","jsx","_jsx","jsxs","_jsxs","CameraCard","_ref","theme","isActive","padding","spacing","height","background","palette","mode","color","text","primary","border","divider","cursor","transition","transform","VideoPreview","_ref2","width","backgroundColor","paper","borderRadius","shape","overflow","display","alignItems","justifyContent","SecurityPage","_ref3","cameras","onCameraSelect","selectedCamera","setSelectedCamera","handleCameraClick","camera","id","handleCloseDialog","sx","pb","children","variant","gutterBottom","container","map","item","xs","sm","onClick","gap","mb","name","room","open","onClose","maxWidth","fullWidth","streamUrl","src","alt","style","objectFit"],"sources":["D:/Drivers/Home App/src/components/SecurityPage.tsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport {\r\n  Box,\r\n  Typography,\r\n  Paper,\r\n  Grid,\r\n  Dialog,\r\n  DialogTitle,\r\n  DialogContent,\r\n  IconButton,\r\n} from '@mui/material';\r\nimport { styled } from '@mui/material/styles';\r\nimport VideocamIcon from '@mui/icons-material/Videocam';\r\nimport CloseIcon from '@mui/icons-material/Close';\r\nimport { Camera } from '../types';\r\n\r\nconst CameraCard = styled(Paper)<{ isActive?: boolean }>(({ theme, isActive }) => ({\r\n  padding: theme.spacing(2),\r\n  height: '100%',\r\n  background: isActive\r\n    ? theme.palette.mode === 'dark'\r\n      ? 'linear-gradient(45deg, #9c27b0 30%, #ba68c8 90%)'\r\n      : 'linear-gradient(45deg, #2196f3 30%, #64b5f6 90%)'\r\n    : 'transparent',\r\n  color: isActive ? '#fff' : theme.palette.text.primary,\r\n  border: isActive ? 'none' : `1px solid ${theme.palette.divider}`,\r\n  cursor: 'pointer',\r\n  transition: 'all 0.3s ease',\r\n  '&:hover': {\r\n    transform: 'scale(1.02)',\r\n  },\r\n}));\r\n\r\nconst VideoPreview = styled(Box)(({ theme }) => ({\r\n  width: '100%',\r\n  height: 300,\r\n  backgroundColor: theme.palette.background.paper,\r\n  borderRadius: theme.shape.borderRadius,\r\n  overflow: 'hidden',\r\n  display: 'flex',\r\n  alignItems: 'center',\r\n  justifyContent: 'center',\r\n}));\r\n\r\ninterface SecurityPageProps {\r\n  cameras: Camera[];\r\n  onCameraSelect: (cameraId: string) => void;\r\n}\r\n\r\nconst SecurityPage: React.FC<SecurityPageProps> = ({ cameras, onCameraSelect }) => {\r\n  const [selectedCamera, setSelectedCamera] = useState<Camera | null>(null);\r\n\r\n  const handleCameraClick = (camera: Camera) => {\r\n    setSelectedCamera(camera);\r\n    onCameraSelect(camera.id);\r\n  };\r\n\r\n  const handleCloseDialog = () => {\r\n    setSelectedCamera(null);\r\n  };\r\n\r\n  return (\r\n    <Box sx={{ pb: 7 }}>\r\n      <Typography variant=\"h4\" gutterBottom>\r\n        Система безопасности\r\n      </Typography>\r\n\r\n      <Grid container spacing={2}>\r\n        {cameras.map((camera) => (\r\n          <Grid item xs={12} sm={6} key={camera.id}>\r\n            <CameraCard\r\n              isActive={camera.isActive}\r\n              onClick={() => handleCameraClick(camera)}\r\n            >\r\n              <Box display=\"flex\" alignItems=\"center\" gap={1} mb={2}>\r\n                <VideocamIcon />\r\n                <Typography variant=\"h6\">{camera.name}</Typography>\r\n              </Box>\r\n              <Typography variant=\"body2\" color=\"text.secondary\">\r\n                Комната: {camera.room}\r\n              </Typography>\r\n              <Typography variant=\"body2\" color=\"text.secondary\">\r\n                Статус: {camera.isActive ? 'Активна' : 'Неактивна'}\r\n              </Typography>\r\n            </CameraCard>\r\n          </Grid>\r\n        ))}\r\n      </Grid>\r\n\r\n      <Dialog\r\n        open={selectedCamera !== null}\r\n        onClose={handleCloseDialog}\r\n        maxWidth=\"md\"\r\n        fullWidth\r\n      >\r\n        <DialogTitle>\r\n          <Box display=\"flex\" alignItems=\"center\" justifyContent=\"space-between\">\r\n            <Typography>\r\n              {selectedCamera?.name} - {selectedCamera?.room}\r\n            </Typography>\r\n            <IconButton onClick={handleCloseDialog}>\r\n              <CloseIcon />\r\n            </IconButton>\r\n          </Box>\r\n        </DialogTitle>\r\n        <DialogContent>\r\n          <VideoPreview>\r\n            {selectedCamera?.streamUrl ? (\r\n              <img\r\n                src={selectedCamera.streamUrl}\r\n                alt={selectedCamera.name}\r\n                style={{ width: '100%', height: '100%', objectFit: 'cover' }}\r\n              />\r\n            ) : (\r\n              <Typography color=\"text.secondary\">\r\n                Нет доступа к видеопотоку\r\n              </Typography>\r\n            )}\r\n          </VideoPreview>\r\n        </DialogContent>\r\n      </Dialog>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default SecurityPage; "],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,OACEC,GAAG,CACHC,UAAU,CACVC,KAAK,CACLC,IAAI,CACJC,MAAM,CACNC,WAAW,CACXC,aAAa,CACbC,UAAU,KACL,eAAe,CACtB,OAASC,MAAM,KAAQ,sBAAsB,CAC7C,MAAO,CAAAC,YAAY,KAAM,8BAA8B,CACvD,MAAO,CAAAC,SAAS,KAAM,2BAA2B,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAGlD,KAAM,CAAAC,UAAU,CAAGP,MAAM,CAACN,KAAK,CAAC,CAAyBc,IAAA,MAAC,CAAEC,KAAK,CAAEC,QAAS,CAAC,CAAAF,IAAA,OAAM,CACjFG,OAAO,CAAEF,KAAK,CAACG,OAAO,CAAC,CAAC,CAAC,CACzBC,MAAM,CAAE,MAAM,CACdC,UAAU,CAAEJ,QAAQ,CAChBD,KAAK,CAACM,OAAO,CAACC,IAAI,GAAK,MAAM,CAC3B,kDAAkD,CAClD,kDAAkD,CACpD,aAAa,CACjBC,KAAK,CAAEP,QAAQ,CAAG,MAAM,CAAGD,KAAK,CAACM,OAAO,CAACG,IAAI,CAACC,OAAO,CACrDC,MAAM,CAAEV,QAAQ,CAAG,MAAM,CAAG,aAAaD,KAAK,CAACM,OAAO,CAACM,OAAO,EAAE,CAChEC,MAAM,CAAE,SAAS,CACjBC,UAAU,CAAE,eAAe,CAC3B,SAAS,CAAE,CACTC,SAAS,CAAE,aACb,CACF,CAAC,EAAC,CAAC,CAEH,KAAM,CAAAC,YAAY,CAAGzB,MAAM,CAACR,GAAG,CAAC,CAACkC,KAAA,MAAC,CAAEjB,KAAM,CAAC,CAAAiB,KAAA,OAAM,CAC/CC,KAAK,CAAE,MAAM,CACbd,MAAM,CAAE,GAAG,CACXe,eAAe,CAAEnB,KAAK,CAACM,OAAO,CAACD,UAAU,CAACe,KAAK,CAC/CC,YAAY,CAAErB,KAAK,CAACsB,KAAK,CAACD,YAAY,CACtCE,QAAQ,CAAE,QAAQ,CAClBC,OAAO,CAAE,MAAM,CACfC,UAAU,CAAE,QAAQ,CACpBC,cAAc,CAAE,QAClB,CAAC,EAAC,CAAC,CAOH,KAAM,CAAAC,YAAyC,CAAGC,KAAA,EAAiC,IAAhC,CAAEC,OAAO,CAAEC,cAAe,CAAC,CAAAF,KAAA,CAC5E,KAAM,CAACG,cAAc,CAAEC,iBAAiB,CAAC,CAAGlD,QAAQ,CAAgB,IAAI,CAAC,CAEzE,KAAM,CAAAmD,iBAAiB,CAAIC,MAAc,EAAK,CAC5CF,iBAAiB,CAACE,MAAM,CAAC,CACzBJ,cAAc,CAACI,MAAM,CAACC,EAAE,CAAC,CAC3B,CAAC,CAED,KAAM,CAAAC,iBAAiB,CAAGA,CAAA,GAAM,CAC9BJ,iBAAiB,CAAC,IAAI,CAAC,CACzB,CAAC,CAED,mBACEnC,KAAA,CAACd,GAAG,EAACsD,EAAE,CAAE,CAAEC,EAAE,CAAE,CAAE,CAAE,CAAAC,QAAA,eACjB5C,IAAA,CAACX,UAAU,EAACwD,OAAO,CAAC,IAAI,CAACC,YAAY,MAAAF,QAAA,CAAC,qHAEtC,CAAY,CAAC,cAEb5C,IAAA,CAACT,IAAI,EAACwD,SAAS,MAACvC,OAAO,CAAE,CAAE,CAAAoC,QAAA,CACxBV,OAAO,CAACc,GAAG,CAAET,MAAM,eAClBvC,IAAA,CAACT,IAAI,EAAC0D,IAAI,MAACC,EAAE,CAAE,EAAG,CAACC,EAAE,CAAE,CAAE,CAAAP,QAAA,cACvB1C,KAAA,CAACC,UAAU,EACTG,QAAQ,CAAEiC,MAAM,CAACjC,QAAS,CAC1B8C,OAAO,CAAEA,CAAA,GAAMd,iBAAiB,CAACC,MAAM,CAAE,CAAAK,QAAA,eAEzC1C,KAAA,CAACd,GAAG,EAACyC,OAAO,CAAC,MAAM,CAACC,UAAU,CAAC,QAAQ,CAACuB,GAAG,CAAE,CAAE,CAACC,EAAE,CAAE,CAAE,CAAAV,QAAA,eACpD5C,IAAA,CAACH,YAAY,GAAE,CAAC,cAChBG,IAAA,CAACX,UAAU,EAACwD,OAAO,CAAC,IAAI,CAAAD,QAAA,CAAEL,MAAM,CAACgB,IAAI,CAAa,CAAC,EAChD,CAAC,cACNrD,KAAA,CAACb,UAAU,EAACwD,OAAO,CAAC,OAAO,CAAChC,KAAK,CAAC,gBAAgB,CAAA+B,QAAA,EAAC,8CACxC,CAACL,MAAM,CAACiB,IAAI,EACX,CAAC,cACbtD,KAAA,CAACb,UAAU,EAACwD,OAAO,CAAC,OAAO,CAAChC,KAAK,CAAC,gBAAgB,CAAA+B,QAAA,EAAC,wCACzC,CAACL,MAAM,CAACjC,QAAQ,CAAG,SAAS,CAAG,WAAW,EACxC,CAAC,EACH,CAAC,EAfgBiC,MAAM,CAACC,EAgBhC,CACP,CAAC,CACE,CAAC,cAEPtC,KAAA,CAACV,MAAM,EACLiE,IAAI,CAAErB,cAAc,GAAK,IAAK,CAC9BsB,OAAO,CAAEjB,iBAAkB,CAC3BkB,QAAQ,CAAC,IAAI,CACbC,SAAS,MAAAhB,QAAA,eAET5C,IAAA,CAACP,WAAW,EAAAmD,QAAA,cACV1C,KAAA,CAACd,GAAG,EAACyC,OAAO,CAAC,MAAM,CAACC,UAAU,CAAC,QAAQ,CAACC,cAAc,CAAC,eAAe,CAAAa,QAAA,eACpE1C,KAAA,CAACb,UAAU,EAAAuD,QAAA,EACRR,cAAc,SAAdA,cAAc,iBAAdA,cAAc,CAAEmB,IAAI,CAAC,KAAG,CAACnB,cAAc,SAAdA,cAAc,iBAAdA,cAAc,CAAEoB,IAAI,EACpC,CAAC,cACbxD,IAAA,CAACL,UAAU,EAACyD,OAAO,CAAEX,iBAAkB,CAAAG,QAAA,cACrC5C,IAAA,CAACF,SAAS,GAAE,CAAC,CACH,CAAC,EACV,CAAC,CACK,CAAC,cACdE,IAAA,CAACN,aAAa,EAAAkD,QAAA,cACZ5C,IAAA,CAACqB,YAAY,EAAAuB,QAAA,CACVR,cAAc,SAAdA,cAAc,WAAdA,cAAc,CAAEyB,SAAS,cACxB7D,IAAA,QACE8D,GAAG,CAAE1B,cAAc,CAACyB,SAAU,CAC9BE,GAAG,CAAE3B,cAAc,CAACmB,IAAK,CACzBS,KAAK,CAAE,CAAEzC,KAAK,CAAE,MAAM,CAAEd,MAAM,CAAE,MAAM,CAAEwD,SAAS,CAAE,OAAQ,CAAE,CAC9D,CAAC,cAEFjE,IAAA,CAACX,UAAU,EAACwB,KAAK,CAAC,gBAAgB,CAAA+B,QAAA,CAAC,yIAEnC,CAAY,CACb,CACW,CAAC,CACF,CAAC,EACV,CAAC,EACN,CAAC,CAEV,CAAC,CAED,cAAe,CAAAZ,YAAY","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}